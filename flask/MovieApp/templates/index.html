<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <title>MOVIES</title>
  </head>
  <body>
    <div class="container text-center">
        <div class="row">
            <div class="col-1" style="margin-top:7.5%;">
                <form action="{{ url_for('actors') }}" method="GET">
                    <button type="submit" class="btn btn-primary mb-3">ACTORS</button>
                </form>
            </div>
            <div class="col-8">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                    <tr>
                        <th scope="col">Movie Title</th>
                        <th scope="col">Year</th>
                        <th scope="col">Director</th>
                        <th scope="col">IMDB Rating</th>
                        <th scope="col">Runtime</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for post in posts %}
                    <tr>
                        <th><a href="{{ url_for('movie', id=post['id']) }}" class="link-dark">{{post['title']}}</a></th>
                        <td>{{post['year']}}</td>
                        <td><a href="{{ url_for('director', name=post['director']) }}" class="link-dark">{{post['director']}}</a></td>
                        <td>{{post['imdb_score']}}</td>
                        <td>{{post['runtime']}} minutes</td>
                    </tr>
                    {% endfor %}  
                    </tbody>
                </table>
            </div>
            <div class="col-2">
                <p class="h2">SEARCH</p> 
                <form method="post">
                    <input type="text" name="search_text" class="form-control" placeholder="Search" value="{{ request.form['search_text'] }}"></textarea>
                    <br>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="title_search">Search by Title</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="director_search">Search by Director</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="rating_search">Search by Rating</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="genre_search">Search by Genre</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="clear">Clear</button>
                </form>
            </div>
            <div class="col-1">
                <p class="h2">SORT</p> 
                <form method="post">
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="year_sort">Sort by Year</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="runtime_sort">Sort by Runtime</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="imdb_sort">Sort by IMDB Score</button>
                    <button type="submit" class="btn btn-primary mb-3" name="action" value="clear">Clear</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
